module.exports = ({ env }) => {\n  const connectionUrl = env('DATABASE_URL');\n  if (!connectionUrl) {\n    return {\n      connection: {\n        client: 'sqlite',\n        connection: {\n          filename: env('DATABASE_FILENAME', 'data.db'),\n        },\n        useNullAsDefault: true,\n      },\n    };\n  }\n\n  return {\n    connection: {\n      connectionString: connectionUrl,\n      client: 'postgres',\n      connection: {\n        ssl: env.bool('DATABASE_SSL', true) ? { rejectUnauthorized: false } : false,\n      },\n      pool: {\n        min: env.int('DATABASE_POOL_MIN', 2),\n        max: env.int('DATABASE_POOL_MAX', 10),\n      },\n    },\n  };\n};\n
